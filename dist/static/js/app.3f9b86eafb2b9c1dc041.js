webpackJsonp([1],{0:function(e,t){},HPBH:function(e,t){},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("7+uW"),a=r("8+8L"),s=r("//Fk"),i=r.n(s),c=r("Xxa5"),o=r.n(c),h=r("exGp"),u=r.n(h),l={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"completeSection"}},[r("div",[e._v("\n        oi m8\n    ")]),e._v(" "),r("div",{attrs:{id:"feedback-display"}},[r("span",{attrs:{id:"complete-stopwatch-display"}},[e._v(e._s(e.completeStopwatch)+" s")]),e._v(" "),r("br"),e._v(" "),r("span",{attrs:{id:"complete-wpm-display"}},[e._v(e._s(e.completeWPM)+" WPM")]),e._v(" "),r("br"),e._v(" "),r("span",{attrs:{id:"complete-accuracy-display"}},[e._v(e._s(e.completeAccuracy)+"% Accuracy")])])])},staticRenderFns:[]};var d={components:{completeSection:r("VU/8")({props:["html","completeStopwatch","completeWPM","completeAccuracy"],components:{},data:function(){return{}},methods:{}},l,!1,function(e){r("i4+G")},null,null).exports},data:function(){return{searchTerm:"Fun",articleTitle:"",gameStarted:!1,text:"",errorText:"",redirectText:"",sections:[],sectionLengths:[],urlBase0:"https://en.wikipedia.org/w/api.php?action=parse&section=",urlBase1:"&prop=text&format=json&origin=*&page=",maxSectionSize:250,allowedChars:'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ 1234567890!?"£$%^&*()\'"[]-+_-=\\,./:;@#~{}<>',activeSection:0,charIndex:0,activeWPM:0,activeStopwatchRaw:0,activeStopwatch:0,activeAccuracy:0,sectionComplete:!1,accuracyTuple:[0,0]}},methods:{resetGame:function(){this.text="",this.errorText="",this.redirectText="",this.sections=[],this.sectionLengths=[],this.activeSection=0,this.charIndex=0,this.activeWPM=0,this.activeStopwatchRaw=0,this.activeStopwatch=0,this.activeAccuracy=0,this.sectionComplete=!1,this.accuracyTuple=[0,0],this.startGame()},nextSection:function(){var e=u()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.activeSection++,this.charIndex=0,document.getElementById("typeArea").focus(),this.activeWPM=0,this.activeStopwatchRaw=0,this.activeStopwatch=0,this.accuracyTuple=[0,0],this.sectionComplete=!1,this.runStopwatch(this.activeSection),e.next=11,this.populateExtraSections(this.activeSection+2,this.activeSection+2);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),startGame:function(){var e=u()(o.a.mark(function e(){var t,r,n,a,s,i,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.gameStarted=!0,this.articleTitle=this.searchTerm,t=this.urlBase0+"0"+this.urlBase1+this.searchTerm,e.next=5,this.getSectionBody(t);case 5:if(r=e.sent,-1==(n=r.indexOf('redirectText\\"><li><a href=\\"/wiki/'))){e.next=16;break}return this.redirectText="Redirected From "+this.searchTerm,a=r.substring(n+35),s=a.substring(0,a.indexOf("\\")),this.articleTitle=s,i=this.urlBase0+"0"+this.urlBase1+s,e.next=15,this.getSectionBody(i);case 15:r=e.sent;case 16:if(-1==r.indexOf('"code":"missingtitle"')&&-1==r.indexOf('"title":"Undefined"')){e.next=19;break}return this.errorText="No Article Found For "+searchTerm,e.abrupt("return");case 19:return c=this.getTextFromResponse(r),this.splitAndSectionText(c),document.getElementById("typeArea").focus(),this.runStopwatch(this.activeSection),e.next=25,this.populateExtraSections(1,3);case 25:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getSectionBody:function(e){var t=this;return new i.a(function(r){t.$http.get(e).then(function(e){r(e.bodyText)})})},populateExtraSections:function(){var e=u()(o.a.mark(function e(t,r){var n,a,s,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t,a="",s=void 0;case 3:if(!(-1==a.indexOf("nosuchsection")&&n<r)){e.next=13;break}return s=this.urlBase0+n+this.urlBase1+this.searchTerm,console.log(s),a&&(i=this.getTextFromResponse(a),this.splitAndSectionText(i)),e.next=9,this.getSectionBody(s);case 9:a=e.sent,n++,e.next=3;break;case 13:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),getTextFromResponse:function(e){for(var t=JSON.parse(e).parse.text["*"];-1!==t.indexOf("</table>");){var r=t.substring(t.indexOf("<table"),t.indexOf("</table>")+8),n=t.indexOf(r);t=t.substring(0,n)+t.substring(n+r.length)}for(t=t.substring(t.indexOf("<p>"),t.lastIndexOf("</p>"));-1!==t.indexOf("</sup>");){var a=t.substring(t.indexOf("<sup"),t.indexOf("</sup>")+6),s=t.indexOf(a);t=t.substring(0,s)+t.substring(s+a.length)}for(var i=this.strip(t),c=0;i.indexOf(-1!=String.fromCharCode(160))&&c<500;)i=i.replace(String.fromCharCode(160)," "),c+=1;return i=(i=i.replace(/\s\s+/g," ")).replace(/–/g,"-")},splitAndSectionText:function(e){var t="",r=e.split(".");for(var n in r){var a=r[n].trim();a+=". ",t.length+a.length<this.maxSectionSize?t+=a:t?(t=t.trim(),this.addTextToSections(t),t=""):this.addTextToSections(a)}t&&this.addTextToSections(t)},addTextToSections:function(e){var t=e.split(" "),r=[],n=0,a=0,s=!1;for(var i in t){var c=t[i];if(c)s&&(c=" "+c,s=!1),i<t.length-1&&(c+=" "),new RegExp(this.escapeRegex(this.allowedChars)).test(c)?(r.push([c,n,a]),a+=c.length,n++):(r.push([c.trim(),-1]),s=!0)}this.sectionLengths.push(a),this.sections.push(r)},newKeyPress:function(e){if(console.log(e),this.charIndex>=this.sectionLengths[this.activeSection]&&(console.log(this.charIndex),console.log("section",this.sections[this.activeSection].words),console.log("completed section"),this.sectionComplete=!0),this.sectionComplete)"Enter"==e.key&&this.nextSection();else{"Enter"==e.key&&e.ctrlKey&&0==this.charIndex&&console.log("STARTING ");var t=e.key;if("Backspace"==t&&this.charIndex>0)return this.charIndex-=1,"color-correct"==this.currentCharEl.className&&(this.accuracyTuple[0]--,this.accuracyTuple[1]--),void this.clearColorClass();if(-1==this.allowedChars.indexOf(t))return;console.log(t),console.log(this.currentChar);var r=!1;t==this.currentChar?(this.accuracyTuple[0]++,this.accuracyTuple[1]++,this.alterCharColorClass("correct"),console.log("a",this.currentChar)," "==this.currentChar&&(console.log("i fire"),r=!0)):(this.accuracyTuple[1]++,!0,this.alterCharColorClass("incorrect")),this.charIndex++,console.log("NEW CHAR",this.currentChar)," "==this.currentChar&&r&&(console.log(" fire fhere"),this.alterCharColorClass("correct"),this.charIndex++)}},alterCharColorClass:function(e){var t=this.currentCharId;console.log(t),console.log(document.getElementById(t)),document.getElementById(t).className="color-"+e},clearColorClass:function(){var e=this.currentCharId;console.log(e),console.log(document.getElementById(e)),document.getElementById(e).className=""},runStopwatch:function(e){var t=this;if(!this.sectionComplete)setTimeout(function(){return t.addToStopwatch(e)},10)},addToStopwatch:function(e){this.sectionComplete||(this.activeStopwatchRaw+=.01,this.activeStopwatch=Math.floor(this.activeStopwatchRaw),this.updateWPM(),this.updateAccuracy(),this.runStopwatch(e))},updateWPM:function(){if(this.currentChar){var e=this.currentCharEl.parentElement.id.split("-"),t=parseInt(e[e.length-1]),r=Math.ceil(60/this.activeStopwatch*t);this.activeWPM=r}},updateAccuracy:function(){var e=void 0;e=this.accuracyTuple[1]?(100*this.accuracyTuple[0]/this.accuracyTuple[1]).toFixed(2):0,this.activeAccuracy=e},strip:function(e){return(new DOMParser).parseFromString(e,"text/html").body.textContent||""},escapeRegex:function(e){return"^["+e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+"]+$"}},computed:{currentCharId:function(){return"char-"+this.activeSection+"-"+this.charIndex},currentCharEl:function(){return document.getElementById(this.currentCharId)},currentChar:function(){return this.currentCharEl?this.currentCharEl.innerText:""}}},p={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"typingGame"}},[r("div",{attrs:{id:"controls"}},[r("span",{directives:[{name:"show",rawName:"v-show",value:!e.gameStarted,expression:"!gameStarted"}]},[r("h4",[e._v("Enter a Search term!")])]),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:e.gameStarted&&!e.sectionComplete,expression:"gameStarted && !sectionComplete"}]},[r("h4",[e._v("Start Typing!")])]),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:e.gameStarted&&e.sectionComplete,expression:"gameStarted && sectionComplete"}]},[r("h4",[e._v("Press Enter To Load More Text...")])]),e._v(" "),r("input",{directives:[{name:"show",rawName:"v-show",value:!e.gameStarted,expression:"!gameStarted"},{name:"model",rawName:"v-model",value:e.searchTerm,expression:"searchTerm"}],domProps:{value:e.searchTerm},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.startGame(t):null},input:function(t){t.target.composing||(e.searchTerm=t.target.value)}}}),e._v(" "),r("button",{directives:[{name:"show",rawName:"v-show",value:!e.gameStarted,expression:"!gameStarted"}],on:{click:e.startGame}},[e._v("START")])]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.gameStarted,expression:"gameStarted"}],attrs:{id:"messages"}},[r("span",[e._v(e._s(e.errorText))]),e._v(" "),r("span",[r("b",[e._v(e._s(e.articleTitle))])]),e._v(" "),r("span",[e._v("- "+e._s(e.redirectText))])]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.gameStarted,expression:"gameStarted"}],attrs:{id:"typeRow"}},[r("div",{attrs:{id:"typeArea",tabindex:"0"},on:{keydown:function(t){t.preventDefault(),e.newKeyPress(t)}}},[e._l(e.sections[e.activeSection],function(t,n){return r("span",{key:e.activeSection+"-"+n,class:"index_"+t[1],attrs:{id:"word-"+e.activeSection+"-"+n}},e._l(t[0],function(a,s){return r("span",{key:e.activeSection+"-"+n+"-"+s,attrs:{id:"char-"+e.activeSection+"-"+(t[2]+s)}},[e._v(e._s(a))])}))}),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:!e.sections,expression:"!sections"}]},[e._v("Loading...")])],2),e._v(" "),r("div",{attrs:{id:"feedback-display"}},[r("span",{attrs:{id:"stopwatch-display"}},[e._v("Time: "+e._s(e.activeStopwatch)+" s")]),e._v(" "),r("br"),e._v(" "),r("span",{attrs:{id:"wpm-display"}},[e._v("Speed: "+e._s(e.activeWPM)+" WPM")]),e._v(" "),r("br"),e._v(" "),r("span",{attrs:{id:"accuracy-display"}},[e._v("Accuracy: "+e._s(e.activeAccuracy)+"%")])])]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.gameStarted,expression:"gameStarted"}],attrs:{id:"resetControls"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerm,expression:"searchTerm"}],domProps:{value:e.searchTerm},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.resetGame(t):null},input:function(t){t.target.composing||(e.searchTerm=t.target.value)}}}),e._v(" "),r("button",{on:{click:e.resetGame}},[e._v("CHOOSE A NEW TOPIC (RESET)")])])])},staticRenderFns:[]};var v=r("VU/8")(d,p,!1,function(e){r("rKxz")},null,null).exports,m={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"pageHeader"}})},staticRenderFns:[]};var f=r("VU/8")({components:{},data:function(){return{}},methods:{}},m,!1,function(e){r("HPBH")},null,null).exports,g={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"pageFooter"}},[r("h4",[e._v("FAQs")]),e._v(" "),r("h3",[e._v("What is TypeScholar?")]),e._v(" "),r("p",[e._v("It's an app that queries Wikipedia's API for your search term and then you speed-type the result.")]),e._v(" "),r("h3",[e._v("Why though?")]),e._v(" "),r("p",[e._v("I just wanted to code something...")]),e._v(" "),r("h3",[e._v("Who are you?")]),e._v(" "),r("p",[e._v("I'm Peter, a developer from London, UK, and I have a "),r("a",{attrs:{href:"#"}},[e._v("blog that I neglect")])]),e._v(" "),r("h3",[e._v("Can I help you somehow?")]),e._v(" "),r("p",[e._v("Ehhh. Probably not, but the hosting does cost a few quid so I'll shill a little..."),r("br"),e._v(" If this website made you realise (with quite a scare) that you actually don't own a keyboard,"),r("br"),e._v("\n    you could use "),r("a",{attrs:{href:"https://amzn.to/2uSBRSv"}},[e._v("this Amazon affiliate link")]),e._v(" to rectify that..."),r("br"),e._v(" "),r("a",{attrs:{href:"https://amzn.to/2LLYj6b"}},[e._v("Or these wireless headphones which I actually own.")])]),e._v(" "),r("h3",[e._v("Anything else?")]),e._v(" "),r("p",[e._v("Remember to press enter to load more text once you finish a section!")])])}]};var x={components:{"page-footer":r("VU/8")({components:{},data:function(){return{}},methods:{}},g,!1,function(e){r("Q5cj")},null,null).exports,"typing-game":v,"page-header":f},data:function(){return{}},methods:{}},_={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("page-header"),this._v(" "),t("typing-game"),this._v(" "),t("page-footer")],1)},staticRenderFns:[]};var y=r("VU/8")(x,_,!1,function(e){r("l+yD")},null,null).exports;n.a.use(a.a),new n.a({el:"#app",render:function(e){return e(y)}})},Q5cj:function(e,t){},"i4+G":function(e,t){},"l+yD":function(e,t){},rKxz:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.3f9b86eafb2b9c1dc041.js.map